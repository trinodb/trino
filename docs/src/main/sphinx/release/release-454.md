# Release 454 (15 Aug 2024)

## General

* Add support for retrieving lightweight query information from the `/v1/query`
  endpoint with the `pruned` query parameter. ({issue}`20843`)
* Add support for providing configuration for a secrets provider in a
  `secrets.toml` file in the main Trino configuration directory. ({issue}`22633`)
* Add support for an event listener plugin that publishes events to Kafka. ({issue}`22426`)
* Add temporary support for restoring unsafe pushdown behavior removed in
  version 445. This can be enabled with the `optimizer.allow-unsafe-pushdown`
  configuration property. When this mode is enabled, certain queries containing
  expressions that may fail for some inputs may fail at runtime. ({issue}`22987`)
* Improve performance of queries with multiple aggregations involving
  `DISTINCT`. ({issue}`22355`)
* {{breaking}} Improve query concurrency when memory is low by removing the
  `query.low-memory-killer.delay` configuration property. ({issue}`22936`)
* Avoid retrying failed filesystem operations when they will always fail. ({issue}`22678`)
* Fix failure for queries involving {func}`json_parse` and a cast to `array`,
  `map`, or `row`. ({issue}`22840`)
* Fix query failure when file-based network topology is configured with the
  `node-scheduler.network-topology.file` configuration property. ({issue}`18793`)

## Web UI

* Add information about which tables and UDFs have been referenced by a
  query. ({issue}`20843`)

## JDBC driver

* Add support for the `NO_GENERATED_KEYS` option in the
  `Connection.prepareStatement` method. ({issue}`22100`)
* Fix the Trino username incorrectly defaulting to the name of the user running
  the Trino process when no username is specified. ({issue}`22901`)

## BigQuery connector

* Add support for the `execute` procedure. ({issue}`22692`)

## Delta Lake connector

* Add S3 security mapping for the native S3 filesystem. ({issue}`22559`)
* Add support for writing
  [deletion vectors](https://docs.delta.io/latest/delta-deletion-vectors.html). ({issue}`17063`)
* Improve performance by caching table metadata to the metastore. ({issue}`21463`)
* {{breaking}} Rename metastore OpenTelemetry attributes from `trino.hive.*` to
  `trino.metastore.*`. ({issue}`22866`)

## Hive connector

* Add support for using the `hive.metastore-refresh-interval` configuration
  property when using Glue v2 Hive metastore. ({issue}`22706`)
* Add S3 security mapping for the native S3 filesystem. ({issue}`22559`)
* {{breaking}} Rename metastore OpenTelemetry attributes from `trino.hive.*` to
  `trino.metastore.*`. ({issue}`22866`)
* Add support for adjusting UTC-adjusted `INT64` timestamps to the timezone
  specified in the `hive.parquet.time-zone` property when reading Parquet files. ({issue}`22577`)
* Fix potential query failure caused by incorrect bucket column validation. ({issue}`22261`)
* Fix error when reading `INT96` timestamps in Parquet files generated by AWS
  Wrangler. ({issue}`22854`)

## Hudi connector

* Add S3 security mapping for the native S3 filesystem. ({issue}`22559`)
* {{breaking}} Rename metastore OpenTelemetry attributes from `trino.hive.*` to
  `trino.metastore.*`. ({issue}`22866`)

## Iceberg connector

* Add S3 security mapping for the native S3 filesystem. ({issue}`22559`)
* Add support for changing a column's type from `tinyint` or `smallint` to
  `integer`. ({issue}`19971`)
* Improve query planning performance by caching Iceberg metadata files on the
  coordinator. This behavior can be disabled by setting the new
  `iceberg.metadata-cache.enabled` configuration property to `false`. ({issue}`22739`)
* {{breaking}} Rename metastore OpenTelemetry attributes from `trino.hive.*` to
  `trino.metastore.*`. ({issue}`22866`)

## Memory connector

* Fix incorrect results after truncating tables. ({issue}`22665`)

## Oracle connector

* Add support for specifying the JDBC fetch size with the `oracle.fetch-size`
  configuration property. ({issue}`22670`)

## PostgreSQL connector

* Add support for specifying the JDBC fetch size with the
  `postgresql.fetch-size` configuration property. ({issue}`22670`)
* Improve performance when using the `euclidean_distance` and `cosine_distance`
  functions on `vector` types. ({issue}`22618`)
* Improve performance when a query contains `-dot_product` projections. ({issue}`23015`)
* Fix failure when a user-defined type name contains uppercase characters. ({issue}`22848`)

## Redshift connector

* Add support for specifying the JDBC fetch size with the `redshift.fetch-size`
  configuration property. ({issue}`22670`)
